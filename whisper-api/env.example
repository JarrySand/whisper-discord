# =============================================================================
# Whisper API Server Configuration
# =============================================================================
# Copy this file to .env and configure your settings

# -----------------------------------------------------------------------------
# Provider Settings (NEW!)
# -----------------------------------------------------------------------------
# Provider: local, groq, openai
# - local: Use local faster-whisper model (default)
# - groq: Use Groq API (fast, large-v3, $0.0001/sec)
# - openai: Use OpenAI API (stable, whisper-1, $0.006/min)
WHISPER_PROVIDER=local

# API Keys (required only for cloud providers)
# Get Groq API key from: https://console.groq.com
WHISPER_GROQ_API_KEY=
# Get OpenAI API key from: https://platform.openai.com
WHISPER_OPENAI_API_KEY=

# Cloud provider models
WHISPER_GROQ_MODEL=whisper-large-v3
# Options: whisper-large-v3, whisper-large-v3-turbo
WHISPER_OPENAI_MODEL=whisper-1

# -----------------------------------------------------------------------------
# Local Whisper Model Settings (only used when WHISPER_PROVIDER=local)
# -----------------------------------------------------------------------------
# Model name: tiny, base, small, medium, large-v2, large-v3
WHISPER_MODEL_NAME=large-v3

# Device: auto, cuda, cpu, mps (Apple Silicon)
WHISPER_DEVICE=auto

# Compute type: auto, float16, int8, float32
# - float16: GPU recommended
# - int8: CPU recommended (faster)
# - float32: highest precision
WHISPER_COMPUTE_TYPE=auto

# Model cache directory
WHISPER_MODEL_CACHE_DIR=./models

# Use only local model files (no download)
WHISPER_LOCAL_FILES_ONLY=false

# Inference parameters
WHISPER_BEAM_SIZE=5
WHISPER_BEST_OF=5
WHISPER_TEMPERATURE=0.0

# VAD (Voice Activity Detection)
WHISPER_VAD_FILTER=true

# -----------------------------------------------------------------------------
# Post-processing Settings
# -----------------------------------------------------------------------------
# 相槌フィルター (Aizuchi Filter)
# Filter out filler words like "うん", "はい", "なるほど" etc.
WHISPER_AIZUCHI_FILTER_ENABLED=true
WHISPER_AIZUCHI_MAX_LENGTH=15

# Hotwords (専門用語)
# Comma-separated list of specialized terms for better recognition
WHISPER_HOTWORDS=DAO,NFT,Discord,OpenSea,Ethereum
# Path to JSON file containing hotwords
WHISPER_HOTWORDS_FILE=./config/hotwords.json

# -----------------------------------------------------------------------------
# Server Settings
# -----------------------------------------------------------------------------
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
SERVER_WORKERS=1

# Limits
SERVER_MAX_FILE_SIZE_MB=25
SERVER_MAX_AUDIO_DURATION_SECONDS=300
SERVER_MIN_AUDIO_DURATION_MS=500
SERVER_REQUEST_TIMEOUT_SECONDS=120

# Temporary files
SERVER_TEMP_DIR=./temp
SERVER_CLEANUP_INTERVAL_SECONDS=300

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

